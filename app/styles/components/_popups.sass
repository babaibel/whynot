$popup__padd-rl: 30px

$popup-size-sm: 300px
$popup-size-md: 375px

$popup-side-offset: 8px

.popup
    position: absolute
    top: 0
    left: 50%
    z-index: 300
    opacity: 0
    visibility: hidden
    min-width: $minW - ($popup-side-offset * 2)

    &._active
        opacity: 1
        visibility: visible

    &--size-sm
        width: $popup-size-sm
        margin-left: -($popup-size-sm/2)

        +max-screen($popup-size-sm + ($popup-side-offset*2))
            width: auto
            left: $popup-side-offset !important
            right: $popup-side-offset !important
            margin-left: 0 !important
            margin-right: 0 !important

    &--size-md
        width: $popup-size-md
        margin-left: -($popup-size-md/2)
        +max-screen($popup-size-md + ($popup-side-offset * 2))
            width: auto
            left: $popup-side-offset !important
            right: $popup-side-offset !important
            margin-left: 0 !important
            margin-right: 0 !important

.popup-closer
    position: absolute
    z-index: 10
    top: 10px
    right: 10px
    font-size: 10px
    color: #d6d6d6
    cursor: pointer
    @extend .iconic
    @extend .iconic--cross

    &:hover
        color: #000

.popup-gen
    top: 40px
    background-color: #fff
    color: #000
    box-shadow: 3.5px 6.062px 32px 0px rgba(55, 54, 55, 0.24)
    transition: transform $t300, opacity $t300, visibility $t300
    transform: scale(1.1)

    &._active
        transform: scale(1)

    &:after
        content: ''
        position: absolute
        bottom: 100%
        left: 50%
        margin: 0 -5px 0 -1px
        border-width: 10px
        border-style: solid
        border-color: transparent transparent #fff transparent

    &__main
        padding: 25px $popup__padd-rl

    &__footer
        padding: 20px $popup__padd-rl
        background-color: #f6f7f7


    &--subs
        margin: 20px 0 0 -55px
        .popup
            &__main
                padding-top: 30px

        &:after
            left: 31%

        +screen($popup-size-md + ( $popup-side-offset * 2) + 1px,$screenS)
            left: 50% !important
            margin: 0 0 0 (-$popup-size-md/2)


        +max-screen($screenS)
            position: fixed
            top: 95px !important
            &:after
                display: none

        +max-screen($popup-size-md + ( $popup-side-offset * 2) + 1px)
            .btn-flex-wr
                display: block
                .form-tip
                    margin-top: 10px
                    padding-left: 0
                .btn
                    width: 100%

    &--subs2
        margin: 15px -35px 0 0
        .popup
            &__main
                padding-top: 30px

        &:after
            left: 60%

        +screen($screenS+1,$screenMM)
            margin: 15px 0 0 0
            left: 20px!important
            right: auto!important
            &:after
                left: 37%!important

        // +screen($popup-size-md + ( $popup-side-offset * 2) + 1px,$screenS)
        //     left: 50% !important
        //     margin: 0 0 0 (-$popup-size-md/2)


        +max-screen($screenS)
            position: fixed
            top: 95px !important
            left: 50% !important
            margin: 0 0 0 (-$popup-size-md/2)
            &:after
                display: none

        +max-screen($popup-size-md + ( $popup-side-offset * 2) + 1px)
            left: 15px !important
            right: 15px !important
            margin: 0 !important

            .btn-flex-wr
                display: block
                .form-tip
                    margin-top: 10px
                    padding-left: 0
                .btn
                    width: 100%

    &--login
        margin: 20px -105px 0 0
        &:after
            left: 58%

        +screen($popup-size-sm + ( $popup-side-offset * 2) + 1px,$screenSS)
            left: 50% !important
            margin: 0 0 0 (-$popup-size-sm/2)

        +max-screen($screenSS)
            z-index: 99
            position: fixed
            top: $header-top-h-sm + 10px !important
            &:after
                display: none

    &--reg
        margin: 20px 0 0 0
        &:after
            left: 83%

        +screen($popup-size-sm + ( $popup-side-offset * 2) + 1px,$screenSS)
            left: 50% !important
            margin: 0 0 0 (-$popup-size-sm/2)

        +max-screen($screenSS)
            z-index: 99
            position: fixed
            top: $header-top-h-sm + 10px !important
            &:after
                display: none


.popup-map
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    z-index: 9999
    overflow: hidden
    opacity: 0
    visibility: hidden
    transform: scale(1.4) //scale(0.6)
    transition: 0.6s ease-in-out

    &__map
        position: absolute
        top: 0
        bottom: 0
        right: 0
        left: 0
        z-index: 1

    .popup-closer
        color: #2E2C2C
        font-size: 30px
        top: 30px
        right: 30px
        transition: 0.5s ease-out 0.6s
        transform: translate3d(70px,0,0)

    &._active
        opacity: 1
        visibility: visible
        transform: scale(1)

        .popup-closer
            transform: translate3d(0,0,0)
